<!--data-tap-disable="true"-->
<ion-view view-title="货架编辑" class="ion-view-bg">
    <ion-content>
        <div style="width:800px;margin:20px auto;text-align:center;background-color:#fff;">
            <div class="form-horizontal" style="padding:20px;">
                <div class="form-group">
                    <label class="col-sm-2 control-label" style="text-align: center;">货架名称</label>
                    <div class="col-sm-10">
                        <input type="text" ng-model="shelf.title" class="form-control" style="padding: 0px 5px;border: 1px solid #ccc;border-radius: 4px;" />
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label" style="text-align:center;">选择城市</label>
                    <div class="col-sm-10">
                        <select class="form-control" ng-model="shelf.regionId" ng-options="city.cityRegionId as city.cityName group by city.provinceName for city in cityList">
                            <option value="">-- 选择货架可用的城市 --</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="item">
                <span class="SourceHanSansCN label" style="float:left;font-size:16px;">货架商品</span>
                <button class="btn btn-default" ng-click="addShelfCargo()" style="float:right;">选择商品</button>
            </div>
            <div class="item-content flex flex-hw">
                <div class="card flex1 flex-20" style="max-width:180px;height:250px;position:relative;" ng-repeat="cargo in cargos">
                    <div class="innerhover">
                        <img ng-src="{{cargo.faceImgUrl|imgCdnFilter}}" style="width: 180px;" />
                        <div class="mum-inner-masker">
                            <div style="margin-top:90px;">
                                <i class="icon ion-android-delete text-center" style="font-size:36px;color:#fff;" ng-click="deleteCargo(cargo)"></i>
                            </div>
                        </div>
                    </div>
                    <div class="item-content SourceHanSansCN text-center">
                        <span>{{cargo.name}}</span>
                    </div>
                    <div class="form-group" style="margin:0px;padding-top:15px;">
                        <select class="form-control" ng-model="cargo.cargoStandardIndex" ng-options="cargo.cargoStandards.indexOf(standard) as standard.name for standard in cargo.cargoStandards" style="border:none;">
                            <option value="">-- 选择商品规格 --</option>
                        </select>
                    </div>

                </div>
            </div>
        </div>
        <!--提交-->
        <button ng-if="!shelf.objectId" class="btn btn-primary" ng-click="shelfPost()" style="width:30%;margin:auto;display:block;">提交</button>
        <!--修改-->
        <button ng-if="!!shelf.objectId" class="btn btn-primary" ng-click="modify()" style="width:30%;margin:auto;display:inline-block;float:right;">修改</button>
        <!--删除-->
        <button ng-if="!!shelf.objectId" class="btn btn-danger" ng-click="delete(shelf.objectId)" style="width:30%;margin:auto;display:inline-block;float:right;">删除</button>
    </ion-content>
</ion-view>
