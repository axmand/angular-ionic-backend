<!--data-tap-disable="true"-->
<ion-view view-title="商品管理" class="ion-view-bg">

    <div class="form-inline item" style="margin:20px;top:44px;">
        <div class="form-group" style="margin-right:10px;">
            <label for="searchname">检索</label>
            <input class="form-control" ng-model="searchWord" ng-keydown="searchCargo(searchWord,eCargoType,$event)" style="width:220px;border: 1px solid #ccc;" type="text" id="searchname" placeholder="查找符合条件的商品" />
        </div>
        <div class="form-group">
            <label>商品类型</label>
            <select class="form-control" ng-model="cCargoType" ng-change="typeChanged(cCargoType)" ng-options="m.uid as m.name for m in $$commericalCargoType" style="margin-right:10px;">
                <option value="">-- 商品类型 --</option>
            </select>
        </div>
        <button class="btn btn-primary SourceHanSansCN" style="width:100px;color:#fff;left:10px;" ng-click="searchCargo(searchWord,cCargoType,{keyCode:13})">
            搜索
        </button>
        <a class="btn btn-success SourceHanSansCN" style="width:100px;margin-right:30px;color:#fff;position:absolute;right:10px;" ng-click="goToCargoDetail()">
            创建商品
        </a>
    </div>

    <ion-content class="has-subheader" style="bottom:0;background-color:#f7f7f7;margin-top:10px;top:130px;">
        <ion-refresher pulling-text="下拉更新..." on-refresh="cargoListRefresh()" spinner="ios"></ion-refresher>
        <div class="row" style="flex-wrap:wrap;-webkit-flex-wrap:wrap;margin:0;">
            <a class="col col-10" ng-repeat="goods in cargoList">
                <div class="card" style="margin:0px;box-shadow:none;border-radius:4px;position:relative;">
                    <div class="item item-image">
                        <img ng-src="{{goods.faceImgUrl|imgCdnFilter}}">
                    </div>
                    <div class="item" style="border:none;">
                        <h2 class="SourceHanSansCN" style="font-size:11px;color:rgba(0,0,0,0.9);margin-bottom:5px;">{{goods.title}}</h2>
                        <p class="SourceHanSansCN" style="font-size:11px;color:rgba(0,0,0,0.4);margin-bottom:15px;">{{goods.content}}</p>                       
                    </div>
                    <div class="mum-masker">
                        <div class="mum-middle-container" style="margin-top: 60%;text-align: center;">
                            <i class="icon ion-edit mum-edit-icon" ng-click="goToCargoDetail(goods)"></i>
                            <!--<i class="icon ion-ios-trash mum-delete-icon" ng-click="deleteCargo(goods)"></i>-->              
                        </div>                                      
                    </div>
                </div>
            </a>
        </div>
        <ion-infinite-scroll on-infinite="cargoListLoadMore()" ng-if="cargoListShowInfinite" distance="1%" spinner="ios"></ion-infinite-scroll>
        <div class="item-content center-block SourceHanSansCN backColor" style="text-align:center;" ng-hide="cargoListShowInfinite">
            <p style="font-family:'Microsoft YaHei';font-size:16px;">没有更多啦</p>
        </div>
    </ion-content>

</ion-view>