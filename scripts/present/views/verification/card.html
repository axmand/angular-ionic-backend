<ion-view view-title="储值卡管理" class="ion-view-bg">

    <div class="form-inline item" style="margin:20px;top:44px;">
        <div class="form-group" style="margin-right:10px;">
            <label for="searchname">检索</label>
            <input class="form-control" ng-model="searchWord" ng-keydown="searchCard(searchWord,$event)" style="width:220px;border: 1px solid #ccc;" type="text" id="searchname" placeholder="查找符合条件的商品" />
        </div>
        <button class="btn btn-primary SourceHanSansCN" style="width:100px;color:#fff;left:10px;" ng-click="searchCard(searchWord,{keyCode:13})">
            搜索
        </button>
        <a class="btn btn-success SourceHanSansCN" style="width:100px;margin-right:30px;color:#fff;position:absolute;right:10px;" ng-click="openCardModal()">
            创建储值卡
        </a>
    </div>

    <ion-content class="has-subheader" style="bottom:0;background-color:#f7f7f7;margin-top:10px;top:130px;">
        <ion-refresher pulling-text="下拉更新..." on-refresh="cardListRefresh()" spinner="ios"></ion-refresher>

        <div class="item" style="padding:0px;margin:20px;">
            <div class="button-bar SourceHanSansCN">
                <a class="button">卡号</a>
                <a class="button">面值</a>
                <a class="button">余额</a>
                <a class="button">创建人</a>
                <a class="button">使用人</a>
                <a class="button">二维码</a>
            </div>
        </div>

        <div class="list" style="margin:20px; margin-top:0px;">
            <div class="item" style="padding: 16px 0px;" ng-repeat="card in cardList">
                <div class="button-bar fontVisiable fa-align-center">
                    <div class="button button-clear" data-toggle="tooltip" data-placement="top">{{card.cardNo}}</div>
                    <div class="button button-clear" data-toggle="tooltip" data-placement="top">{{card.eCardValue}}元</div>
                    <div class="button button-clear" data-toggle="tooltip" data-placement="top">{{card.remainMoney}}元</div>
                    <div class="button button-clear" data-toggle="tooltip" data-placement="top">{{card.creater.phoneNumber}}</div>
                    <div class="button button-clear" data-toggle="tooltip" data-placement="top">{{card.binder.phoneNumber}}</div>
                    <div class="button button-clear" data-toggle="tooltip" data-placement="top"><img style="width:40px;height:40px;" ng-src="{{'data:image/png;base64,'+card.qrStringbase64}}" /></div>
                </div>
            </div>
        </div>

        <ion-infinite-scroll on-infinite="cardListLoadMore()" ng-if="cardListShowInfinite" distance="1%" spinner="ios">

        </ion-infinite-scroll>
        <div class="item-content center-block SourceHanSansCN backColor" style="text-align:center;" ng-hide="cardListShowInfinite">
            <p style="font-family:'Microsoft YaHei';font-size:16px;">没有更多啦</p>
        </div>
    </ion-content>

</ion-view>